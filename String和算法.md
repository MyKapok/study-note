> **string 被设计成不可变：**

**-字符串常量池**

**-hash缓存**

**-安全性**

# 字符串常量池

JDK7之前在运行时常量池中；

JDK7之后移到堆中；（为了释放）

stringtable存储(**提高匹配速度**)，类似hashtable

ldcz指令会使字符串进入字符串常量池



-“+”，会进行优化，使用append进行添加。

-当时一个变量时，是无法进行优化的



# String.intern

作用是把new出来的字符串引用添加到stringtable中。

# String相关介绍

trim():会截取中间所有非空字符串

# 字符串匹配相关算法

KMP算法：比较指针不回溯，模式串直接后移

* 寻找最长公共前后缀
* 第一个位置不匹配，1号位与主串的下一位进行比较
* 第二号位置不匹配，1号位与主串的当前位进行比较
* 第三号位置不匹配，1号位与主串的当前位进行比较

